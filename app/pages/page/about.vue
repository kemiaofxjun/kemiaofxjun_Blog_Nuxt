<template>
    <div class="about-page">
        <link href="/assets/css/about.css" rel="stylesheet">
        <div class="author-main">
            <div class="author-tag-left">
                <span class="author-tag">
                    ğŸ’» Likeæ•°ç ç§‘æŠ€
                </span>
                <span class="author-tag">
                    ğŸ¥£ å¹²é¥­é­‚ å¹²é¥­äºº
                </span>
                <span class="author-tag">
                    ğŸ•Š å’•å’•å’•å’•å’•å’•~
                </span>
                <span class="author-tag">
                    ğŸ§± CVå·¥ç¨‹å¸ˆ
                </span>
            </div>
            <div class="author-box">
                <span>
                </span>
                <div class="author-img">
                    <img class="no-lightbox" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg">
                </div>
            </div>
            <div class="author-tag-right">
                <span class="author-tag">
                    åƒé¥­ä¸å¦‚ç¢è§‰ ğŸ’¤
                </span>
                <span class="author-tag">
                    ä¹è§‚ ç§¯æ å‘ä¸Š ğŸ¤
                </span>
                <span class="author-tag">
                    ä¸“æ”»å„ç§å›°éš¾ ğŸ”¨
                </span>
                <span class="author-tag">
                    äººä¸ç‹ è¯è¶…å¤š ğŸ’¢
                </span>
            </div>
            <div class="image-dot">
        </div>
        <p class="p center logo large">
		    å…³äºæœ¬ç«™
	    </p>
	<div class="author-content">
		<div class="author-content-item myInfoAndSayHello">
			<div class="title1">
				ä½ å¥½ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ ğŸ‘‹
			</div>
			<div class="title2">
				æˆ‘å«
				<span class="inline-word">
					é™ˆå¿—ä¼Ÿ
				</span>
			</div>
			<div class="title1">
				æ˜¯ä¸€å å‰ç«¯å·¥ç¨‹å¸ˆã€å­¦ç”Ÿã€ç‹¬ç«‹å¼€å‘è€…ã€
				<span class="inline-word">
					åšä¸»
				</span>
			</div>
		</div>
		<div class="aboutsiteTips author-content-item">
			<div class="author-content-item-tips">
				è¿½æ±‚
			</div>
			<h2>
				æºäº
				<br/>
				çƒ­çˆ±è€Œå»
				<span class="inline-word">
					æ„Ÿå—
				</span>
				<div class="mask">
					<span class="first-tips">
						å­¦ä¹ 
					</span>
					<span>
						ç”Ÿæ´»
					</span>
					<span data-up="data-up">
						ç¨‹åº
					</span>
					<span data-show="data-show">
						ä½“éªŒ
					</span>
				</div>
			</h2>
		</div>
    </div>
    <div class="hello-about">
		<div class="cursor" style="translate:none;rotate:none;scale:none;transform:translate(721px,180px)"></div>
		<div class="shapes">
			<div class="shape shape-1" style="translate:none;rotate:none;scale:none;transform:translate(721px,180px)"></div>
			<div class="shape shape-2" style="translate:none;rotate:none;scale:none;transform:translate(721px,180px)"></div>
			<div class="shape shape-3" style="translate:none;rotate:none;scale:none;transform:translate(721px,180px)"></div>
		</div>
		<div class="content">
			<h1>Hello there!</h1>
		</div>
	</div>
	<div class="author-content">
		<div class="about-statistic author-content-item">
			<div class="card-content">
				<div class="author-content-item-tips">æ•°æ®</div><span class="author-content-item-title">è®¿é—®ç»Ÿè®¡</span>
				<div id="statistic"></div>
				<div class="post-tips">ç»Ÿè®¡ä¿¡æ¯æ¥è‡ª<a href="https://invite.51.la/1NzKqTeb?target=V6" target="_blank" rel="noopener nofollow">51laç½‘ç«™ç»Ÿè®¡</a></div>
				<div class="banner-button-group"><a class="banner-button" onclick="pjax.loadUrl(&quot;/archives/&quot;)" data-pjax-state="data-pjax-state"><i class="fas fa-circle-right"></i><span class="banner-button-text">æ–‡ç« éš§é“</span></a></div>
			</div>
		</div>
		<div class="author-content-item-group column mapAndInfo">
			<div class="author-content-item map single"><span class="map-title">æˆ‘ç°åœ¨ä½åœ¨<b>ä¸­å›½ï¼Œé•¿æ²™å¸‚</b></span></div>
			<div class="author-content-item selfInfo single">
				<div><span class="selfInfo-title">ç”Ÿäº</span><span class="selfInfo-content" id="selfInfo-content-year" style="color:#43a6c6">2002</span></div>
				<div><span class="selfInfo-title">æ¹–å—ä¿¡æ¯å­¦é™¢</span><span class="selfInfo-content" style="color:#c69043">è½¯ä»¶å·¥ç¨‹</span></div>
				<div><span class="selfInfo-title">ç°åœ¨èŒä¸š</span><span class="selfInfo-content" style="color:#b04fe6"> </span></div>
			</div>
		</div>
	</div>
	<div class="author-content">
		<div class="author-content-item maxim">
			<div class="author-content-item-tips">åº§å³é“­</div><span class="maxim-title"><span style="opacity:.6;margin-bottom:8px">ç”Ÿæ´»æ˜æœ—ï¼Œ</span><span>ä¸‡ç‰©å¯çˆ±ã€‚</span></span>
		</div>
		<div class="author-content-item myphoto"><img class="author-content-img no-lightbox" alt="è‡ªæ‹" src="https://img02.anheyu.com/adminuploads/1/2022/09/24/632e9643611ec.jpg" /></div>
	</div>
	<div class="author-content">
		<div class="author-content-item like-technology">
			<div class="card-content">
				<div class="author-content-item-tips">å…³æ³¨åå¥½</div><span class="author-content-item-title">æ•°ç ç§‘æŠ€</span>
				<div class="content-bottom">
					<div class="tips">æ‰‹æœºã€ç”µè„‘è½¯ç¡¬ä»¶</div>
				</div>
			</div>
		</div>
		<div class="author-content-item game-yuanshen">
			<div class="card-content">
				<div class="author-content-item-tips">çˆ±å¥½æ¸¸æˆ</div><span class="author-content-item-title">åŸç¥</span>
				<div class="content-bottom">
					<div class="icon-group">
						<div class="loading-bar" role="presentation" aria-hidden="true"><img class="no-lightbox" src="https://yuanshen.site/imgs/loading-bar.png" alt="Loading..." longdesc="https://ys.mihoyo.com/main/" /></div>
					</div>
					<div class="tips game-yuanshen-uid">UID: 125766904</div>
				</div>
			</div>
		</div>
	</div>
	<div class="author-content">
		<div class="create-site-post author-content-item single">
			<div class="author-content-item-tips">å¿ƒè·¯å†ç¨‹</div>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ ğŸ˜ï¼Œè¿™é‡Œæ˜¯æˆ‘è®°ç¬”è®°çš„åœ°æ–¹ ğŸ™Œï¼Œç›®å‰å°±è¯»äºé•¿æ²™<strong>æ¹–å—ä¿¡æ¯å­¦é™¢</strong>çš„<strong>è½¯ä»¶å·¥ç¨‹</strong>ä¸“ä¸šï¼Œè™½ç„¶æœ‰æ—¶å€™å¸¸å¸¸ä¼šå¿˜è®°æ›´æ–°ç¬”è®°ï¼Œå’•å’• âœ‹~ ä½†æ˜¯è®°ç¬”è®°çœŸçš„æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„ä¹ æƒ¯ ğŸ’ªï¼Œèƒ½æŠŠå­¦ä¸‹æ¥çš„çŸ¥è¯†è¿›è¡Œç§¯ç´¯ï¼Œæ²‰æ·€ï¼Œæœ‰ä¸€å¥è¯è¯´çš„å¥½ï¼Œèƒ½æ•™ç»™åˆ«äººçš„çŸ¥è¯†ï¼Œæ‰æ˜¯çœŸæ­£å­¦ä¼šäº†çš„çŸ¥è¯† âš¡ æ¯å‘¨æˆ‘éƒ½ä¼šå°½é‡è¿›è¡Œæ›´æ–° â˜ï¸ï¼Œå¦‚æœæ²¡æ›´çš„è¯ï¼Œå¯èƒ½æ˜¯æˆ‘å¿˜äº†ï¼Œä¹Ÿå¯èƒ½æ˜¯æˆ‘åœ¨é’»ç ”æŸä¸ªä¸œè¥¿çš„æ—¶å€™å¤ªå…¥è¿·äº†
		</div>
	</div>
</template>

<style>
/* 1.åŸºç¡€æ¶æ„ */
#about-page .author-main {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  margin: 0 0 16px 0;
  user-select: none;
}
#about-page .author-box {
  position: relative;
  width: 189px;
  height: 189px;
  background: rgba(253, 253, 253, 0.8);
  border-radius: 50%;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}
#about-page .author-img {
  margin: auto;
  border-radius: 50%;
  overflow: hidden;
  width: 180px;
  height: 180px;
  z-index: 10;
  background: var(--mj-card-bg);
}
.author-tag-left {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  margin-right: 30px;
}
.author-tag-right {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  margin-left: 30px;
}
/* 2.å¤´åƒç¾åŒ– */
#about-page .author-box span {
  position: absolute;
  inset: 5px;
  border-radius: 50%;
  background: rgba(253, 253, 253, 0.8);
  z-index: 1;
}
#about-page .author-box::before {
  content: '';
  position: absolute;
  width: 500px;
  height: 500px;
  background-image: conic-gradient(transparent, transparent, transparent, #8758FF);
  animation: animate 4s linear infinite;
  animation-delay: -2s;
}
#about-page .author-box::after {
  content: '';
  position: absolute;
  width: 500px;
  height: 500px;
  background-image: conic-gradient(transparent, transparent, transparent, #5CB8E4);
  animation: animate 4s linear infinite;
}
/* 3.åˆ—è¡¨å¡ç‰‡ç¾åŒ– */
.author-tag {
  transform: translate(0, -4px);
  padding: 1px 8px;
  background: var(--heo-card-bg);
  border: var(--style-border-always);
  border-radius: 40px;
  margin-top: 6px;
  font-size: 14px;
  font-weight: bold;
  box-shadow: var(--heo-shadow-lightblack);
  animation: 6s ease-in-out 0s infinite normal none running floating;
}
/* 4.åˆ—è¡¨å¡ç‰‡ç¾åŒ–ä»¥åŠåŠ¨ç”» */
/* 4.1.å·¦åºåˆ— */
.author-tag-left .author-tag:first-child, .author-tag-left .author-tag:last-child {
  margin-right: -16px;
}
/* 4.2.å³åºåˆ— */
.author-tag-right .author-tag:first-child, .author-tag-right .author-tag:last-child {
  margin-left: -16px;
}
.author-tag:nth-child(1) {
  animation-delay: 0s;
}
.author-tag:nth-child(2) {
  animation-delay: 0.6s;
}
.author-tag:nth-child(3) {
  animation-delay: 1.2s;
}
.author-tag:nth-child(4) {
  animation-delay: 1.8s;
}
/* 5.åŠ¨ç”»css */
@keyframes floating {
  0% {
    transform: translate(0, -4px);
  }
  50% {
    transform: translate(0, 4px);
  }
  100% {
    transform: translate(0, -4px);
  }
}
@keyframes animate {
  0% {
    transform: rotate(0)
  }
  100% {
    transform: rotate(360deg)
  }
}
/* 6.å…³äºæœ¬ç«™æ–‡å­—æ ·å¼ç¾åŒ– */
[data-theme=dark] #about-page .author-title {
  text-stroke: 1px #bccbe4;
  -webkit-text-stroke: 1px #bccbe4;
}
#about-page .author-title {
  font-size: 2.7rem;
  font-weight: 700;
  margin-top: 1px;
  letter-spacing: 6px;
  -webkit-background-clip: text;
  background-image: linear-gradient(90deg, #2ca2b4, #5598de 24%, #7f87ff 45%, #f65aad 85%, #df80b4);
  background-clip: text;
  display: inline-block;
  color: transparent;
  text-stroke: 2px #3fdaee;
  -webkit-text-stroke: 1px #3fdaee;
}
</style>

<script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/gsap/3.9.1/gsap.min.js"></script>
<script>
	(() => {
    function isInViewPortOfOne(el) {
        if (!el) return;
        const viewPortHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
        const offsetTop = el.offsetTop;
        const scrollTop = document.documentElement.scrollTop;
        const top = offsetTop - scrollTop;
        return top <= viewPortHeight;
    }
    fetch('https://v6-widget.51.la/v6/527574/quote.js').then(res => res.text()).then((data) => {
        let title = ['æœ€è¿‘æ´»è·ƒ', 'ä»Šæ—¥äººæ•°', 'ä»Šæ—¥è®¿é—®', 'æ˜¨æ—¥äººæ•°', 'æ˜¨æ—¥è®¿é—®', 'æœ¬æœˆè®¿é—®', 'æ€»è®¿é—®é‡']
        let num = data.match(/(<\/span><span>).*?(\/span><\/p>)/g)

        num = num.map((el) => {
            let val = el.replace(/(<\/span><span>)/g, '')
            let str = val.replace(/(<\/span><\/p>)/g, '')
            return str
        })

        let statisticEl = document.getElementById('statistic')

        // è‡ªå®šä¹‰ä¸æ˜¾ç¤ºå“ªä¸ªæˆ–è€…æ˜¾ç¤ºå“ªä¸ªï¼Œå¦‚ä¸‹ä¸ºä¸æ˜¾ç¤º æœ€è¿‘æ´»è·ƒè®¿å®¢ å’Œ æ€»è®¿é—®é‡
        let statistic = []
        for (let i = 0; i < num.length; i++) {
            if (!statisticEl) return
            if (i == 0 || i == num.length - 1) continue;
            statisticEl.innerHTML += '<div><span>' + title[i] + '</span><span id=' + title[i] + '>' + num[i] + '</span></div>'
            queueMicrotask(() => {
                statistic.push(new CountUp(title[i], 0, num[i], 0, 2, {
                    useEasing: true,
                    useGrouping: true,
                    separator: ',',
                    decimal: '.',
                    prefix: '',
                    suffix: ''
                }))
            })
        }

        function statisticUP() {
            let statisticElment = document.querySelector('.about-statistic.author-content-item');
            if (isInViewPortOfOne(statisticElment)) {
                for (let i = 0; i < num.length; i++) {
                    if (i == 0 || i == num.length - 1) continue;
                    statistic[i - 1].start();
                }
                document.removeEventListener('scroll', throttleStatisticUP);
            }
        }

        const selfInfoContentYear = new CountUp('selfInfo-content-year', 0, 2002, 0, 2, {
            useEasing: true,
            useGrouping: false,
            separator: ',',
            decimal: '.',
            prefix: '',
            suffix: ''
        })

        function scrollSelfInfoContentYear() {
            let selfInfoContentYearElment = document.querySelector('.author-content-item.selfInfo.single');
            if (selfInfoContentYearElment && isInViewPortOfOne(selfInfoContentYearElment)) {
                selfInfoContentYear.start()
                document.removeEventListener('scroll', throttleScrollSelfInfoContentYear);
            }
        }
        const throttleStatisticUP = btf.throttle(statisticUP, 200)
        document.addEventListener('scroll', throttleStatisticUP, {
            passive: true
        })

        const throttleScrollSelfInfoContentYear = btf.throttle(scrollSelfInfoContentYear, 200)
        document.addEventListener('scroll', throttleScrollSelfInfoContentYear, {
            passive: true
        })
    });

    var pursuitInterval = null;
    pursuitInterval = setInterval(function() {
        const show = document.querySelector('span[data-show]')
        const next = show.nextElementSibling || document.querySelector('.first-tips')
        const up = document.querySelector('span[data-up]')

        if (up) {
            up.removeAttribute('data-up')
        }

        show.removeAttribute('data-show')
        show.setAttribute('data-up', '')

        next.setAttribute('data-show', '')
    }, 2000)

    document.addEventListener('pjax:send', function() {
        clearInterval(pursuitInterval);
    });

    var helloAboutEl = document.querySelector('.hello-about')
    helloAboutEl.addEventListener("mousemove", evt => {
        const mouseX = evt.offsetX;
        const mouseY = evt.offsetY;
        gsap.set(".cursor", {
            x: mouseX,
            y: mouseY,
        })

        gsap.to(".shape", {
            x: mouseX,
            y: mouseY,
            stagger: -0.1
        })
    })
})()
</script>